'use strict';function q(selector,ns){var obj={};if(!selector){return undefined}obj.elements=(typeof selector=='string')?document.querySelectorAll(selector):selector.querySelector?[selector]:selector;obj.length=obj.elements.length;return obj.length?new q.init(obj):undefined}q.arr2class=arr=>arr.join(' ').replace(/^ /,'');q.create=(name,ns)=>q(ns?document.createElementNS(ns,name):document.createElement(name));q.def=val=>val!==undefined;q.init=function(obj){this.elements=obj.elements;this.length=obj.length};q.parse=function(val){return typeof val!=='string'?val:val==='undefined'?undefined:val==='true'?true:val==='false'?false:val==='null'?null:val===''?'':!isNaN(val)?parseFloat(val):val.match(/(\[.+\])|(\{.+\})/)!==null?JSON.parse(val):val};(function(){var pro=q.init.prototype;pro.addClass=function(val){if(q.def(val)){this.each(function(){var classes=this.class2arr();if(classes.indexOf(val)===-1){classes.push(val);this.attr('class',q.arr2class(classes))}})}return this};pro.attr=function(prop,val){var first=this.elements[0];return q.def(val)?this.each(el=>el.norm().setAttribute(prop,val)):prop?first.getAttribute(prop):first.attributes};pro.box=function(){var box=this.elements[0].getBoundingClientRect();return{h:box.height,w:box.width,x:box.left,y:box.top}};pro.children=function(index){var arr=this.elements[0].children;var length=arr.length;return q.def(index)?q(arr[index<0?length+index:index]):length?q(arr):undefined};pro.class2arr=function(){return(this.attr('class')||'').split(' ')};pro.clone=function(deep=!1){return q(this.elements[0].cloneNode(deep))};pro.data=function(prop,val){var first=this.elements[0];return q.def(val)?this.each(el=>el.norm().setAttribute('data-'+prop,JSON.stringify(val).replace(/(^")(.+)("$)/,'$2'))):q.def(prop)?q.parse(first.getAttribute('data-'+prop)):first.dataset};pro.each=function(func){var elements=this.elements;for(let c=0,l=this.length;c<l;c++){let el=q(elements[c]);func.apply(el,[el,c,elements])}return this};pro.first=function(add){var first=this.elements[0];if(q.def(add)){typeof add==='string'?first.innerHTML=add+''+first.innerHTML:first.insertBefore(add.norm?add.norm():add,first.firstChild);return this}return q(first.querySelector(':first-child'))};pro.hasClass=function(name){return this.class2arr().indexOf(name)>-1?true:!1};pro.hide=function(){return this.each(el=>el.attr('hidden','hidden'))};pro.html=function(val){return q.def(val)?this.each(el=>el.norm().innerHTML=val):this.elements[0].innerHTML};pro.index=function(n){if(q.def(n)){n=n<0?this.elements.length+n:n;return q(this.elements[n])}else{var c=0;var prev=this.elements[0];while(prev.previousElementSibling){prev=prev.previousElementSibling;c++}return c}};pro.last=function(add){var first=this.elements[0];if(q.def(add)){typeof add==='string'?first.innerHTML+=add:first.appendChild(add.norm?add.norm():add);return this}return q(first.children(-1))};pro.map=function(func){var arr=[];var elements=this.elements;for(let c=0,l=this.length;c<l;c++){let el=q(elements[c]);arr.push(func.apply(el,[el,c,elements]))}return arr};pro.next=function(add){var first=this.elements[0];if(q.def(add)){typeof add==='string'?first.outerHTML+=add:first.parentElement.insertBefore(add.norm?add.norm():add,first.nextElementSibling);return this}return q(first.nextElementSibling)};pro.norm=function(){return this.elements[0]};pro.off=function(typeOrTypes,func,instant=!1){var types=typeOrTypes.split(',');return this.each(function(){var el=this.norm();types.forEach(type=>el.removeEventListener(type,func,instant))})};pro.on=function(typeOrTypes,func,instant=!1){var types=typeOrTypes.split(',');return this.each(function(){var el=this.norm();types.forEach(type=>el.addEventListener(type,func,instant))})};pro.parent=function(query){var parent=this.elements[0].parentElement;if(q.def(query)){while(!parent.matches(query)){parent=parent.parentElement}}return q(parent)};pro.prev=function(add){var first=this.elements[0];if(q.def(add)){typeof add==='string'?first.outerHTML=add+''+first.outerHTML:first.parentNode.insertBefore(add.norm?add.norm():add,first);return this}return q(first.previousElementSibling)};pro.q=function(selector,ns){return q(this.elements[0].querySelectorAll(selector))};pro.remove=function(selector){if(q.def(selector)){let arr=[];this.each(function(el){el.norm().matches(selector)?el.remove():arr.push(el)});return q(arr)}else{return this.each(function(){this.parent().norm().removeChild(this.norm())})}};pro.removeAttr=function(attr){return this.each(el=>el.norm().removeAttribute(attr))};pro.removeClass=function(name){return this.each(function(){var classes=this.class2arr();var index=classes.indexOf(name);classes.splice(index,1);this.attr('class',q.arr2class(classes))})};pro.show=function(){return this.each(el=>el.removeAttr('hidden'))};pro.text=function(str){return q.def(str)?this.each(el=>el.norm().innerHTML=str):this.elements[0].textContent};pro.toggleClass=function(name){return this.each(function(){var classes=this.class2arr();var index=classes.indexOf(name);index>-1?classes.splice(index,1):classes.push(name);this.attr('class',q.arr2class(classes))})};pro.toggleVisibility=function(){return this.each(el=>el.attr('hidden')?el.removeAttr('hidden'):el.attr('hidden','hidden'))};pro.val=function(val){return q.def(val)?this.each(el=>el.norm().setAttribute('value',val)):q.parse(this.elements[0].value)}})()